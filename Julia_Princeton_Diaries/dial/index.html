<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/assets/css/dial.css?v=1.1" rel="stylesheet">    <title>memory site</title>
    <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
</head>

<body>
    <main>
        <div id="dial">
            <div id="band-selector"></div>
            <div id="dial-posts">
                                                            <a href="/posts/april-2021">
                            <div class="color-block" style="background-color: #e853c0"></div>
                        </a>
                                                                                <a href="/posts/april-2022">
                            <div class="color-block" style="background-color: #ff9a0c"></div>
                        </a>
                                                                                <a href="/posts/april-2023">
                            <div class="color-block" style="background-color: #e043b1"></div>
                        </a>
                                                                                <a href="/posts/april-2024">
                            <div class="color-block" style="background-color: #2b2777"></div>
                        </a>
                                                                                <a href="/posts/april-2025">
                            <div class="color-block" style="background-color: #ff7200"></div>
                        </a>
                                                                                <a href="/posts/august-2021">
                            <div class="color-block" style="background-color: #12c5e5"></div>
                        </a>
                                                                                <a href="/posts/august-2022">
                            <div class="color-block" style="background-color: #0050ff"></div>
                        </a>
                                                                                <a href="/posts/august-2023">
                            <div class="color-block" style="background-color: #5ed64f"></div>
                        </a>
                                                                                <a href="/posts/august-2024">
                            <div class="color-block" style="background-color: #2837ff"></div>
                        </a>
                                                                                <a href="/posts/december-2020">
                            <div class="color-block" style="background-color: #aedce5"></div>
                        </a>
                                                                                <a href="/posts/december-2021">
                            <div class="color-block" style="background-color: #000000"></div>
                        </a>
                                                                                <a href="/posts/december-2022">
                            <div class="color-block" style="background-color: #422d59"></div>
                        </a>
                                                                                <a href="/posts/december-2023">
                            <div class="color-block" style="background-color: #2d9b39"></div>
                        </a>
                                                                                <a href="/posts/december-2024">
                            <div class="color-block" style="background-color: #003bff"></div>
                        </a>
                                                                                <a href="/posts/february-2021">
                            <div class="color-block" style="background-color: #a0cbe5"></div>
                        </a>
                                                                                <a href="/posts/february-2022">
                            <div class="color-block" style="background-color: #0bc7ea"></div>
                        </a>
                                                                                <a href="/posts/february-2023">
                            <div class="color-block" style="background-color: #4ba6c6"></div>
                        </a>
                                                                                <a href="/posts/february-2024">
                            <div class="color-block" style="background-color: #d82d2d"></div>
                        </a>
                                                                                <a href="/posts/february-2025">
                            <div class="color-block" style="background-color: #6de8d1"></div>
                        </a>
                                                                                <a href="/posts/january-2021">
                            <div class="color-block" style="background-color: #ff970f"></div>
                        </a>
                                                                                <a href="/posts/january-2022">
                            <div class="color-block" style="background-color: #ba8951"></div>
                        </a>
                                                                                <a href="/posts/january-2023">
                            <div class="color-block" style="background-color: #ff3838"></div>
                        </a>
                                                                                <a href="/posts/january-2024">
                            <div class="color-block" style="background-color: #a59191"></div>
                        </a>
                                                                                <a href="/posts/january-2025">
                            <div class="color-block" style="background-color: #cd5bf7"></div>
                        </a>
                                                                                <a href="/posts/july-2021">
                            <div class="color-block" style="background-color: #32ef21"></div>
                        </a>
                                                                                <a href="/posts/july-2022">
                            <div class="color-block" style="background-color: #ff0707"></div>
                        </a>
                                                                                <a href="/posts/july-2023">
                            <div class="color-block" style="background-color: #2877a8"></div>
                        </a>
                                                                                <a href="/posts/july-2024">
                            <div class="color-block" style="background-color: #ff0000"></div>
                        </a>
                                                                                <a href="/posts/june-2021">
                            <div class="color-block" style="background-color: #31afa7"></div>
                        </a>
                                                                                <a href="/posts/june-2022">
                            <div class="color-block" style="background-color: #8e6565"></div>
                        </a>
                                                                                <a href="/posts/june-2023">
                            <div class="color-block" style="background-color: #962e21"></div>
                        </a>
                                                                                <a href="/posts/june-2024">
                            <div class="color-block" style="background-color: #ff9400"></div>
                        </a>
                                                                                <a href="/posts/march-2021">
                            <div class="color-block" style="background-color: #72ff00"></div>
                        </a>
                                                                                <a href="/posts/march-2022">
                            <div class="color-block" style="background-color: #86f202"></div>
                        </a>
                                                                                <a href="/posts/march-2023">
                            <div class="color-block" style="background-color: #d8d277"></div>
                        </a>
                                                                                <a href="/posts/march-2024">
                            <div class="color-block" style="background-color: #e0cf9a"></div>
                        </a>
                                                                                <a href="/posts/march-2025">
                            <div class="color-block" style="background-color: #5ac62b"></div>
                        </a>
                                                                                <a href="/posts/may-2021">
                            <div class="color-block" style="background-color: #fbff1e"></div>
                        </a>
                                                                                <a href="/posts/may-2022">
                            <div class="color-block" style="background-color: #b06cb5"></div>
                        </a>
                                                                                <a href="/posts/may-2023">
                            <div class="color-block" style="background-color: #a4ff4f"></div>
                        </a>
                                                                                <a href="/posts/may-2024">
                            <div class="color-block" style="background-color: #ed852a"></div>
                        </a>
                                                                                <a href="/posts/november-2020">
                            <div class="color-block" style="background-color: #000000"></div>
                        </a>
                                                                                <a href="/posts/november-2021">
                            <div class="color-block" style="background-color: #3551f2"></div>
                        </a>
                                                                                <a href="/posts/november-2022">
                            <div class="color-block" style="background-color: #2562fc"></div>
                        </a>
                                                                                <a href="/posts/november-2023">
                            <div class="color-block" style="background-color: #395396"></div>
                        </a>
                                                                                <a href="/posts/november-2024">
                            <div class="color-block" style="background-color: #c92a2a"></div>
                        </a>
                                                                                <a href="/posts/october-2020">
                            <div class="color-block" style="background-color: #1b55d3"></div>
                        </a>
                                                                                <a href="/posts/october-2021">
                            <div class="color-block" style="background-color: #9ee5b9"></div>
                        </a>
                                                                                <a href="/posts/october-2022">
                            <div class="color-block" style="background-color: #41a517"></div>
                        </a>
                                                                                <a href="/posts/october-2023">
                            <div class="color-block" style="background-color: #ff0000"></div>
                        </a>
                                                                                <a href="/posts/october-2024">
                            <div class="color-block" style="background-color: #b7ff75"></div>
                        </a>
                                                                                <a href="/posts/september-2020">
                            <div class="color-block" style="background-color: #f42222"></div>
                        </a>
                                                                                <a href="/posts/september-2021">
                            <div class="color-block" style="background-color: #ffa100"></div>
                        </a>
                                                                                <a href="/posts/september-2022">
                            <div class="color-block" style="background-color: #ace7ef"></div>
                        </a>
                                                                                <a href="/posts/september-2023">
                            <div class="color-block" style="background-color: #ff8e16"></div>
                        </a>
                                                                                <a href="/posts/september-2024">
                            <div class="color-block" style="background-color: #ffa10a"></div>
                        </a>
                                                </div>
            <button id="audio-toggle" aria-label="Toggle sound">unmute</button>
        </div>  
    </main>

    <script>
        const dial = document.getElementById('dial');
        const bandSelector = document.getElementById('band-selector');
        const audioToggle = document.getElementById('audio-toggle');
        let audioContext = null;
        let oscillator = null;
        let gainNode = null;

        audioToggle.addEventListener('click', () => {
            if (!audioContext) {
                // Initialize audio
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                oscillator = audioContext.createOscillator();
                gainNode = audioContext.createGain();
                gainNode.gain.value = 0.1;
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                oscillator.start();
                audioContext.resume();
                audioToggle.textContent = 'mute';
            } else {
                // Cleanup audio
                oscillator.disconnect();
                oscillator = null;
                gainNode = null;
                audioContext = null;
                audioToggle.textContent = 'unmute';
            }
        });

        dial.addEventListener('mouseleave', () => {
            if (oscillator) {
                oscillator.disconnect();
                oscillator = null;
                gainNode = null;
                audioContext = null;
                audioToggle.textContent = 'unmute';
            }
        });

        dial.addEventListener('mousemove', (e) => {
            const rect = dial.getBoundingClientRect();
            const x = e.clientX - rect.left;
            bandSelector.style.left = `${x}px`;

            if (audioContext && oscillator) {
                const element = document.elementFromPoint(e.clientX, e.clientY);
                // Look for either the color-block div or check its parent if it's the <a>
                const colorElement = element.classList.contains('color-block') ? 
                    element : 
                    element.querySelector('.color-block');
                
                if (colorElement && colorElement.style.backgroundColor) {
                    const color = colorElement.style.backgroundColor;
                    const rgb = color.match(/\d+/g);
                    if (rgb) {
                        const avgColor = (parseInt(rgb[0]) + parseInt(rgb[1]) + parseInt(rgb[2])) / 3;
                        const frequency = 200 + (avgColor * 2.35);
                        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                    }
                }
            }
        });
    </script>
</body>
</html>